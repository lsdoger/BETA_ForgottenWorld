<Window x:Class="Launcher.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:Launcher"
        Title="MainWindow"
        Height="450"
        Width="800"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent">

    <!-- ================= RESOURCES ================= -->
    <Window.Resources>

        <!-- Watermark TextBox Style -->
        <Style x:Key="WatermarkTextBox" TargetType="TextBox">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="#111111"/>
            <Setter Property="BorderBrush" Value="White"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="CaretBrush" Value="White"/>

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border x:Name="Border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4">

                            <Grid>

                                <!-- ВАЖЛИВО: ContentHost без Margin -->
                                <ScrollViewer
                                    x:Name="PART_ContentHost"
                                    Background="Transparent"/>

                                <!-- Placeholder -->
                                <TextBlock
                                    Text="{TemplateBinding Tag}"
                                    Foreground="#888"
                                    Margin="{TemplateBinding Padding}"
                                    VerticalAlignment="Center"
                                    IsHitTestVisible="False"
                                    Visibility="{Binding Text,
                                        RelativeSource={RelativeSource TemplatedParent},
                                        Converter={StaticResource EmptyTextToVisibilityConverter}}"/>

                            </Grid>
                        </Border>

                        <!-- Focus -->
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" Value="#4FC3F7"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="Border" Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>

                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </Window.Resources>

    <!-- ================= LAYOUT ================= -->
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="40"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- TOP BAR -->
        <Border Grid.Row="0"
                Background="#CC000000"
                BorderBrush="White"
                BorderThickness="0,0,0,1"
                MouseDown="TopMenu_MouseDown">
            <Grid>
                <TextBlock Text="ForgottenWorld"
                           Foreground="White"
                           VerticalAlignment="Center"
                           Margin="15,0,0,0"
                           FontWeight="Bold"/>

                <Button Content="✕"
                        HorizontalAlignment="Right"
                        Width="40"
                        Background="Transparent"
                        Foreground="White"
                        BorderThickness="0"
                        Click="Button_Close_Click"/>
            </Grid>
        </Border>

        <!-- MAIN CONTENT -->
        <Grid Grid.Row="1">

            <!-- BACKGROUND -->
            <Image Source="pack://application:,,,/Assets/bg.jpg"
                   Stretch="UniformToFill"/>

            <!-- OVERLAY -->
            <Rectangle>
                <Rectangle.Fill>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                        <GradientStop Color="#AA000000" Offset="0"/>
                        <GradientStop Color="#FF000000" Offset="1"/>
                    </LinearGradientBrush>
                </Rectangle.Fill>
            </Rectangle>

            <!-- USERNAME -->
            <TextBox
                Width="300"
                Height="40"
                Style="{StaticResource WatermarkTextBox}"
                Tag="Username"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Margin="80,100,0,0"/>

            <!-- PASSWORD -->
            <TextBox
                Width="300"
                Height="40"
                Style="{StaticResource WatermarkTextBox}"
                Tag="Password"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Margin="80,160,0,0"/>

            <!-- BUTTON -->
            <Button
                Width="200"
                Height="45"
                Content="PLAY"
                FontWeight="Bold"
                FontSize="15"
                Foreground="White"
                Background="Transparent"
                BorderBrush="White"
                BorderThickness="1"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Margin="80,230,0,0"/>
        </Grid>
    </Grid>
</Window>
